//  var _0xc0d9=["\x63\x6C\x6F\x6E\x65","\x66\x69\x72\x73\x74","\x2E\x69\x74\x65\x6D\x73\x2D\x72\x6F\x77","","\x76\x61\x6C","\x2E\x69\x74\x65\x6D\x2D\x64\x65\x73\x63\x72\x69\x70\x74\x69\x6F\x6E","\x66\x69\x6E\x64","\x2E\x69\x74\x65\x6D\x2D\x63\x6F\x73\x74","\x2E\x69\x74\x65\x6D\x2D\x71\x75\x61\x6E\x74\x69\x74\x79","\x30","\x2E\x69\x74\x65\x6D\x2D\x61\x6D\x6F\x75\x6E\x74","\x64\x69\x73\x61\x62\x6C\x65\x64","\x70\x72\x6F\x70","\x2E\x69\x74\x65\x6D\x2D\x73\x6F\x72\x74\x2D\x75\x70","\x61\x70\x70\x65\x6E\x64","\x23\x69\x74\x65\x6D\x73","\x69\x64","\x64\x65\x73\x63\x2D\x69\x74\x65\x6D\x2D","\x61\x74\x74\x72","\x72\x61\x74\x65\x2D\x69\x74\x65\x6D\x2D","\x71\x75\x61\x6E\x74\x69\x74\x79\x2D\x69\x74\x65\x6D\x2D","\x74\x6F\x74\x61\x6C\x2D\x69\x74\x65\x6D\x2D","\x63\x6C\x69\x63\x6B","\x23\x61\x64\x64\x2D\x69\x74\x65\x6D","\x2E\x69\x74\x65\x6D\x2D\x64\x65\x6C\x65\x74\x65","\x6C\x65\x6E\x67\x74\x68","\x23\x69\x74\x65\x6D\x73\x20\x2E\x72\x6F\x77","\x2E\x72\x6F\x77","\x63\x6C\x6F\x73\x65\x73\x74","\x72\x65\x6D\x6F\x76\x65","\x6F\x6E","\x2E\x69\x74\x65\x6D\x2D\x63\x6F\x6E\x74\x61\x69\x6E\x65\x72","\x69\x6E\x70\x75\x74","\x2E\x69\x74\x65\x6D\x2D\x63\x6F\x73\x74\x2C\x20\x2E\x69\x74\x65\x6D\x2D\x71\x75\x61\x6E\x74\x69\x74\x79","\x74\x6F\x46\x69\x78\x65\x64","\x65\x61\x63\x68","\x74\x65\x78\x74","\x23\x73\x75\x62\x74\x6F\x74\x61\x6C","\x23\x73\x75\x62\x5F\x74\x6F\x74\x61\x6C","\x74\x65\x73\x74","\x23\x74\x61\x78\x2D\x70\x65\x72\x63\x65\x6E\x74","\x23\x64\x69\x73\x63\x6F\x75\x6E\x74","\x23\x73\x68\x69\x70\x70\x69\x6E\x67\x5F\x66\x65\x65","\x23\x74\x6F\x74\x61\x6C\x5F\x61\x6D\x6F\x75\x6E\x74","\x23\x74\x6F\x74\x61\x6C\x41\x6D\x6F\x75\x6E\x74","\x63\x68\x61\x6E\x67\x65","\x2E\x63\x75\x72","\x23\x63\x75\x72\x72\x65\x6E\x63\x79\x2D\x6C\x69\x73\x74","\x72\x65\x61\x64\x79"];$(document)[_0xc0d9[48]](function(){var _0xa0c2x1=2;$(_0xc0d9[23])[_0xc0d9[22]](function(){var _0xa0c2x2=$(_0xc0d9[2])[_0xc0d9[1]]()[_0xc0d9[0]]();_0xa0c2x2[_0xc0d9[6]](_0xc0d9[5])[_0xc0d9[4]](_0xc0d9[3]);_0xa0c2x2[_0xc0d9[6]](_0xc0d9[7])[_0xc0d9[4]](_0xc0d9[3]);_0xa0c2x2[_0xc0d9[6]](_0xc0d9[8])[_0xc0d9[4]](1);_0xa0c2x2[_0xc0d9[6]](_0xc0d9[10])[_0xc0d9[4]](_0xc0d9[9]);_0xa0c2x2[_0xc0d9[6]](_0xc0d9[13])[_0xc0d9[12]](_0xc0d9[11],true);$(_0xc0d9[15])[_0xc0d9[14]](_0xa0c2x2);_0xa0c2x2[_0xc0d9[6]](_0xc0d9[5])[_0xc0d9[18]](_0xc0d9[16],_0xc0d9[17]+ _0xa0c2x1);_0xa0c2x2[_0xc0d9[6]](_0xc0d9[7])[_0xc0d9[18]](_0xc0d9[16],_0xc0d9[19]+ _0xa0c2x1);_0xa0c2x2[_0xc0d9[6]](_0xc0d9[8])[_0xc0d9[18]](_0xc0d9[16],_0xc0d9[20]+ _0xa0c2x1);_0xa0c2x2[_0xc0d9[6]](_0xc0d9[10])[_0xc0d9[18]](_0xc0d9[16],_0xc0d9[21]+ _0xa0c2x1);_0xa0c2x1++});$(_0xc0d9[31])[_0xc0d9[30]](_0xc0d9[22],_0xc0d9[24],function(){if($(_0xc0d9[26])[_0xc0d9[25]]> 1){var _0xa0c2x3=$(this)[_0xc0d9[28]](_0xc0d9[27]);_0xa0c2x3[_0xc0d9[29]]()}});$(_0xc0d9[31])[_0xc0d9[30]](_0xc0d9[32],_0xc0d9[33],function(){var _0xa0c2x3=$(this)[_0xc0d9[28]](_0xc0d9[27]);var _0xa0c2x4=parseFloat(_0xa0c2x3[_0xc0d9[6]](_0xc0d9[7])[_0xc0d9[4]]());var _0xa0c2x5=parseFloat(_0xa0c2x3[_0xc0d9[6]](_0xc0d9[8])[_0xc0d9[4]]());var _0xa0c2x6=_0xa0c2x4* _0xa0c2x5;_0xa0c2x3[_0xc0d9[6]](_0xc0d9[10])[_0xc0d9[4]](_0xa0c2x6[_0xc0d9[34]](2));_0xa0c2x7();_0xa0c2x9()});function _0xa0c2x7(){var _0xa0c2x8=0;$(_0xc0d9[10])[_0xc0d9[35]](function(){var _0xa0c2x6=parseFloat($(this)[_0xc0d9[4]]());if(!isNaN(_0xa0c2x6)){_0xa0c2x8+= _0xa0c2x6}});$(_0xc0d9[37])[_0xc0d9[36]](_0xa0c2x8[_0xc0d9[34]]());$(_0xc0d9[38])[_0xc0d9[4]](_0xa0c2x8[_0xc0d9[34]]())}function _0xa0c2x9(){alert(_0xc0d9[39]);var _0xa0c2xa=0;$(_0xc0d9[10])[_0xc0d9[35]](function(){var _0xa0c2x6=parseFloat($(this)[_0xc0d9[4]]());if(!isNaN(_0xa0c2x6)){_0xa0c2xa+= _0xa0c2x6}});let _0xa0c2xb=$(_0xc0d9[40])[_0xc0d9[4]]();if(_0xa0c2xb> 0){let _0xa0c2xc=(_0xa0c2xb* _0xa0c2xa)/ 100;_0xa0c2xa= _0xa0c2xa+ _0xa0c2xc};let _0xa0c2xd=$(_0xc0d9[41])[_0xc0d9[4]]();if(_0xa0c2xd> 0){_0xa0c2xa= _0xa0c2xa- _0xa0c2xd};var _0xa0c2xe=parseFloat($(_0xc0d9[42])[_0xc0d9[4]]());if(!isNaN(_0xa0c2xe)){_0xa0c2xa+= _0xa0c2xe};$(_0xc0d9[43])[_0xc0d9[4]](_0xa0c2xa[_0xc0d9[34]]());$(_0xc0d9[44])[_0xc0d9[36]](_0xa0c2xa[_0xc0d9[34]]())}$(_0xc0d9[42])[_0xc0d9[30]](_0xc0d9[32],_0xa0c2x9);$(_0xc0d9[41])[_0xc0d9[30]](_0xc0d9[32],_0xa0c2x9);$(_0xc0d9[40])[_0xc0d9[30]](_0xc0d9[32],_0xa0c2x9);$(_0xc0d9[47])[_0xc0d9[30]](_0xc0d9[45],function(){let _0xa0c2xf=$(this)[_0xc0d9[4]]();$(_0xc0d9[46])[_0xc0d9[36]](_0xa0c2xf)})})

$(document).ready(function() {
    var itemId = 2; // Counter for unique item IDs
    // Add item
    $('#add-item').click(function() {
        var newItem = $('.items-row').first().clone(); // Clone the first row
        newItem.find('.item-description').val(''); // Clear the item description
        newItem.find('.item-cost').val(''); // Clear the item cost
        newItem.find('.item-quantity').val(1); // Clear the item quantity
        newItem.find('.item-amount').val('0'); // Set the amount to 0
        newItem.find('.item-sort-up').prop('disabled', true); // Disable sort up button for new item

        // Append the new item to the container
        $('#items').append(newItem);

        // Update the item IDs
        newItem.find('.item-description').attr('id', 'desc-item-' + itemId);
        newItem.find('.item-cost').attr('id', 'rate-item-' + itemId);
        newItem.find('.item-quantity').attr('id', 'quantity-item-' + itemId);
        newItem.find('.item-amount').attr('id', 'total-item-' + itemId);

        itemId++; // Increment the item ID counter
    });

    // Remove item
    $('.item-container').on('click', '.item-delete', function() {
        if ($('#items .row').length > 1) {
            var row = $(this).closest('.row');
            row.remove();
        }
    });
    // Calculate amount
    $('.item-container').on('input', '.item-cost, .item-quantity', function() {
        var row = $(this).closest('.row');
        var cost = parseFloat(row.find('.item-cost').val());
        var quantity = parseFloat(row.find('.item-quantity').val());
        var amount = cost * quantity;
        row.find('.item-amount').val(amount.toFixed(2));
        updateSubtotalAmount();
        updateTotalAmount();
    });
    // Function to update the subtotal total amount
    function updateSubtotalAmount() {
        var totalAmount = 0;

        // Iterate through each item-amount input and sum their values
        $('.item-amount').each(function() {
            var amount = parseFloat($(this).val());
            if (!isNaN(amount)) {
                totalAmount += amount;
            }
        });
        $('#subtotal').text(totalAmount.toFixed());
        $('#sub_total').val(totalAmount.toFixed());
    }
    function updateTotalAmount(){
        var total = 0;
        $('.item-amount').each(function() {
            var amount = parseFloat($(this).val());
            if (!isNaN(amount)) {
                total += amount;
            }
        });
        let tax = $('#tax-percent').val();
        if(tax > 0) {
            let taxAmount = (tax*total) / 100;
            total = total + taxAmount;
        }
        let discount = $('#discount').val();
        if(discount > 0) {
            total = total - discount;
        }
        // Add shipping fee to the total amount
        var shippingFee = parseFloat($('#shipping_fee').val());
        if (!isNaN(shippingFee)) {
            total += shippingFee;
        }
        $('#total_amount').val(total.toFixed());
        $('#totalAmount').text(total.toFixed());
    }
    $('#shipping_fee').on('input', updateTotalAmount);
    $('#discount').on('input', updateTotalAmount);
    $('#tax-percent').on('input', updateTotalAmount);
    $('#currency-list').on('change',function(){
        let currency = $(this).val();
        $('.cur').text(currency);
    });
});
